# 3장

## 책임

### 책임이란 무엇인가

- 객체가 유지해야 하는 정보와 수행할 수 있는 행동에 대해 개략적으로 서술한 문장
- 객체의 책임은 `하는 것`과 `아는 것`으로 분류됨
  - `하는 것`
    - 객체를 생성하거나 수정을 수행하는 등의 스스로 하는 것
    - 다른 객체의 행동을 시작시키는 것
    - 다른 객체의 활동을 제어하고 조절하는 것
  - `아는 것`
    - 사적인 정보에 관해 아는 것
    - 관련된 객체에 관해 아는 것
    - 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것

### 책임 할당

- 책임을 수행하는데 필요한 정보를 가장 잘 알고 있는 전문가에게 그 책임을 할당하는 것
- 객체에게 책임을 할당하기 위해서는, 먼저 협력이라는 문맥을 정의해야함
  - 시스템이 사용자에게 제공하는 기능을 시스템이 담당할 하나의 책임으로 바라 보는 것
- 객체지향 설계는 시스템의 책임을 완료하는 데 필요한 더 작은 책임을 찾아내고, 이를 객체들에게 할당하는 반복적인 과정

  - 시스템이 사용자에게 제공해야 하는 시스템 책임을 파악
  - 시스템의 책임을 더 작은 책임으로 분할
  - 분할된 책임을 수행할 수 있는 적절한 객체 또는 역할을 찾아 책임을 할당
  - 객체가 책임을 수행하던 중 이를 책임질 적절한 객체 또는 역할을 찾음

  ### 메시지가 객체를 결정한다.

  - 객체에게 책임을 할당하는 데 필요한 메시지를 먼저 식별하고 메시지를 처리할 객체를 나중에 선택.
    - 메시지가 객체를 선택한 것임.
    - 메시지가 객체를 선택하지만, 선택하는 기준은 객체가 어떤 정보를 알고 있는가
  - 메시지가 객체를 결정하는 경우의 장점
    - 객체가 최소한의 인터페이스를 가질 수 있게됨
    - 객체는 충분히 추상적인 인터페이스를 가질 수 있게 됨

#### 행동이 상태를 결정한다.

- 객체는 협력에 참여하기 위해 존재
- 객체를 객체답게 만드는 것은 객체의 상태가 아니라, 객체가 다른 객체에게 제공하는 행동

#### 궁금증증

**P.115 행동이 상태를 결정한다 - 3문단**

`배경 지식`

- 상태 - 필드
- 행동 - 메서드

`필자의 주장`

- 객체 지향 설계 초보자는, 객체의 내부 상태를 먼저 정의하고 해당 상태에 맞는 메서드를 정의함
- 이런 방식은 객체의 내부 구현이 객체의 퍼블릭 인터페이스에 노출되도록 만들기 때문에 캡슐화를 저해
- 캡슐화를 위반하지 않으려면, 구현에 대한 결정을 뒤로 미루면서 객체의 행위를 고려하기 위해서는 항상 협력을 고려해야함.
- 협력 관계에서, 다른 객체에게 무엇을 제공해야하며 다른 객체로부터 무엇을 얻어야 하는지를 고민해야함

`이해 안 가는 부분`

- 필자는 객체의 행동을 고려하기 위해서는, 객체의 상태를 고려하지 말라고 하는 것인가
- 아니면, 객체의 행동을 고려하기 위해서는 객체 자신의 상태뿐만 아니라, 협력에 포함되는 객체의 상태까지 고려하라고 하는 것인가가

## 역할

### 역할과 협력

- 객체는 협력이라는 문맥 안에서 특정한 목적을 갖게 됨
- 목적은 객체의 책임 집합으로 표현되며,
- 객체가 특정한 협력 안에서 수행하는 책임의 집합을 역할이라고 함

### 유연하고 재사용 가능한 협력

- 역할을 통해 유연하고 재사용 가능한 협력을 얻을 수 있음
- 동일한 책임을 수행하는 역할을 기반으로 여러개의 협력을 하나로 통합 할 수 있음
  - **역할은 객체가 참여할 수 있는 일종의 슬롯**
  - 역할은 JAVA에서 추상클래스, 인터페이스로 구현됨

#### 객체 대 역할

- 오직 한 종류의 객체만 협력에 참여하는데, 역할을 부여하는게 좋을까 ?
  - 협력에 참여하는 후보가 여러 종류의 객체에 의해 수행될 필요가 있다면, 그 후보는 역할이 되지만 단지 한 종류의 객체만이 협력에 참여할 필요가 있다면 후보는 객체가 된다.(레베카 위프스르복)
- 설계 초반에는 `적절한 책임`과 `협력`의 큰 그림을 탐색하는 것이 가장 중요한 목표여야하고 역할과 객체를 명확하게 구분 하는 것은 중요하지 않음음
